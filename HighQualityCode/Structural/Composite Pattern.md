#Composite Pattern

## Мотивация (Motivation) 
Има моменти, когато програмата трябва да управлява структура от данни дърво и е необходимо да се погрижи за branches толкова добре колкото и за leaf nodes. Например програма, която управлява файловата система. Файловата система е дървовидна структура, която се състои от branches, които са папките и leaf nodes, които са файловете. Обектът папка обикновено съдържа една или повече обекти от тип папка или файл и по този начин това става комплексен обект където файл е прост обект. Също така поради това че файловете и папките имат много общи операции и атрибути, като местене и копиране на файл или папка, разглеждане на папка или файл атрибути като име на файл или големина, ще бъде по-лесно и по-удобно да обслужват и файловете и папките еднакво чрез дефиниране на File System Resource Interface.

## Намерение (Intent)
 * Намерението на този модел е да състави обекти в дървовидна структура за да представят полу йерархии.
 * Съставянето позволява на клиентите да използват индивидуални обекти и съставени обекти по един и същи начин.

## Приложимост (Applicability)
Composite моделът се прилага когато има частична йерархия от обекти и клиентите трябва по еднакъв начин да се справят с обектите, независимо от факта че обекта може да е краен или да е съставен от още обекти (принципа листо - клон).

## Известни употреби (Known Uses)
 * Имплементация на файловата система
 * Графични редактори

## Имплементация(Implementation)
Клиентът има референция към дървовидна структура от данни и трябва да изпълни операции върху всички възли, независимо от факта че тези визли могат да са branch или leaf. Клиентът просто получава референция към изискания възел използвайки компонентен интерфейс и се справя с възела използвайки този интерфейс. Няма значение дали възела е composite или leaf. 

## Участници (Participants)
 * Component 
 * Leaf 
 * Composite 
 * Client
 
## Последствия (Consequences)
Composite моделът дефинира клас йерархия, която се състои от примитивни обекти и composite обекти. Примитивните обекти могат да съставят по-сложни комплексни обекти, които от своя страна могат да бъдат съставени. Клиентите използват примитивни и комплексни обекти по един начин, чрез цомпонентен интерфейс, който прави клиентския код по прост. Добавянето на нови компоненти може да бъде лесно и клиентският код няма нужда да се променя, откакто клиентът се справя с новите компоненти чрез компонентен интерфейс.

## Структура (Structure) 
![alt tag](http://www.oodesign.com/images/design_patterns/structural/composite-design-pattern-implementation-uml-class-diagram.png)

## Свързани patterns (Related patterns)
 * Decorator pattern -  декоратор е често използван с Composite. Когато decorators и composites се използват заедно, те често имат общт родителски клас. Така че декораторите ще трябва да поддържат Component интерфейс с операции като добавяне, премахване и вземане на наследник.